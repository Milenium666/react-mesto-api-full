{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Authorization.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","address","this","_address","res","ok","json","Promise","reject","status","fetch","credentials","headers","then","_checkResponse","name","about","method","body","JSON","stringify","link","cardId","like","avatar","BASE_URL","checkResponse","response","Header","userData","loggedIn","onSignOut","useState","clickLink","setClickLink","className","alt","src","logo","email","onClick","to","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","map","Footer","ImagePopup","onClose","id","PopupWithForm","title","nameButton","children","isOpen","size","onSubmit","EditProfilePopup","onUpdateUser","userName","setUserName","userDescription","setUserDescrition","useEffect","e","preventDefault","minLength","maxLength","placeholder","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Authorization","buttonText","autoComplete","Register","onRegister","password","data","setData","Login","onLogin","InfoTooltip","img","subTitle","ProtectedRoute","Component","component","props","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","history","useHistory","popupIsCorrect","setPopupIsCorrect","isCorrectPopupOpen","setIsCorrectPopupOpen","getUserInfo","getUserData","catch","err","console","log","getCards","item","handleCorrectPopup","closeAllPopups","handleError","token","jwt","localStorage","getItem","push","Provider","removeItem","exact","path","auth","setItem","likeCardStatus","newCard","state","c","deleteCard","filter","updateAvatar","editProfile","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAMeA,EAHYC,IAAMC,gB,gBCoGlBC,EAJC,I,WAlGZ,cAAwB,IAAXC,EAAU,EAAVA,QAAU,oBACnBC,KAAKC,SAAWF,E,kDAGpB,SAAeG,GACX,OAAGA,EAAIC,GACID,EAAIE,OAERC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,yBAIxC,WACI,OAAOC,MAAM,GAAD,OAAIR,KAAKC,SAAT,aAA8B,CACtCQ,YAAa,UACbC,QAAS,CACL,eAAgB,sBAGvBC,KAAKX,KAAKY,kB,sBAGf,WACI,OAAOJ,MAAM,GAAD,OAAIR,KAAKC,SAAT,UAA2B,CACnCQ,YAAa,YAEhBE,KAAKX,KAAKY,kB,yBAGf,YAA4B,IAAfC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,MACf,OAAON,MAAM,GAAD,OAAIR,KAAKC,SAAT,aAA8B,CACtCQ,YAAa,UACbM,OAAQ,QACRL,QAAS,CACL,eAAgB,oBAEpBM,KAAMC,KAAKC,UAAU,CACjBL,OACAC,YAGPH,KAAKX,KAAKY,kB,wBAGf,YAA0B,IAAdC,EAAa,EAAbA,KAAMM,EAAO,EAAPA,KACd,OAAOX,MAAM,GAAD,OAAIR,KAAKC,SAAT,UAA2B,CACnCQ,YAAa,UACbM,OAAQ,OACRL,QAAS,CACT,eAAgB,oBAEhBM,KAAMC,KAAKC,UAAU,CACjBL,OACAM,WAIPR,KAAKX,KAAKY,kB,wBAGf,SAAWQ,GACP,OAAOZ,MAAM,GAAD,OAAIR,KAAKC,SAAT,kBAA2BmB,GAAU,CAC7CX,YAAa,UACbM,OAAQ,WAEXJ,KAAKX,KAAKY,kB,4BAGf,SAAeQ,EAAQC,GACnB,OAAOb,MAAM,GAAD,OAAIR,KAAKC,SAAT,kBAA2BmB,EAA3B,UAA2C,CACvDX,YAAa,UACbM,OAAQM,EAAO,MAAQ,SACvBX,QAAS,CACT,eAAgB,sBAGfC,KAAKX,KAAKY,kB,0BAKf,YAAwB,IAAVU,EAAS,EAATA,OACV,OAAOd,MAAM,GAAD,OAAIR,KAAKC,SAAT,oBAAqC,CAC7CQ,YAAa,UACbM,OAAQ,QACRL,QAAS,CACL,eAAgB,oBAEpBM,KAAMC,KAAKC,UAAU,CACjBI,aAGPX,KAAKX,KAAKY,oB,KAMH,CAAS,CACjBb,QAAS,4CCpGJwB,EAAW,kCAClBC,EAAgB,SAACC,GAAD,OAAcA,EAAStB,GAAKsB,EAASrB,OAASC,QAAQC,OAAR,gDAA0BmB,EAASlB,UCDxF,MAA0B,iC,cC2C1BmB,MAnCf,YAAkD,IAAjCC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,UAEjC,EAAkCjC,IAAMkC,WAAxC,mBAAOC,EAAP,KAAkBC,EAAlB,KAWJ,OACQ,yBAAQC,UAAU,SAAlB,UACI,qBAAMA,UAAU,OAAOC,IAAI,4EAAgBC,IAAKC,IAChD,sBAAKH,UAAU,gBAAf,UACI,mBAAGA,UAAS,wBAAmBL,EAAW,GAAK,wBAA/C,SAA2ED,EAASU,QACpF,cAAC,IAAD,CAAMJ,UAAU,eAChBK,QAhBhB,WAEQN,GADDD,IAgBUQ,GAAE,UAAKX,EAAW,GAAMG,EAAY,UAAY,WAFjD,SAIKH,EAAW,GAAMG,EAAY,2BAAS,uEAG3C,cAAC,IAAD,CACAE,UAAS,gDAA2CL,GAAY,wBAC/DW,GAAG,IACJD,QAAST,EAHT,mDC2BDW,MAxDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACrCC,EAAcjD,IAAMkD,WAAWnD,GAYnCoD,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,6BACPH,EAAQ,6BAA+B,6BAIzDI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAGrDM,EAAuB,2BACzBJ,GAAW,2BAIX,OACI,qBAAIlB,UAAU,mBAAd,UACI,qBACAE,IAAKM,EAAKtB,KACVe,IAAKO,EAAK5B,KACVyB,QAhCQ,WAChBI,EAAYD,IAgCJR,UAAU,sBACV,wBACAA,UAAWiB,EACXZ,QA9Bc,WACtBM,EAAaH,IA8BLe,KAAK,WACL,sBAAKvB,UAAU,0BAAf,UACI,mBAAGA,UAAU,oBAAb,SAAkCQ,EAAK5B,OACvC,sBAAKoB,UAAU,oBAAf,UACI,wBACAuB,KAAK,SACLvB,UAAWsB,EACXjB,QAzCI,WACpBK,EAAWF,MA0CK,mBAAGR,UAAU,yBAAb,SAAuCQ,EAAKW,MAAMK,mBCQvDC,MAtDf,YAAyG,IAAzFC,EAAwF,EAAxFA,aAAcC,EAA0E,EAA1EA,cAAeC,EAA2D,EAA3DA,WAAYnB,EAA+C,EAA/CA,YAAaoB,EAAkC,EAAlCA,MAAOnB,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aACjFC,EAAcjD,IAAMkD,WAAWnD,GAGnC,OACE,uBAAMsC,UAAU,UAAhB,UACE,yBAASA,UAAU,iBAAnB,SACE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBACEA,UAAU,kBACVK,QAASqB,EACTI,MAAO,CAAEC,gBAAgB,OAAD,OAASnB,EAAYvB,OAArB,QAE1B,sBAAKW,UAAU,6BAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCY,EAAYhC,OAC7C,wBACEoB,UAAU,mBACVuB,KAAK,SACLlB,QAASsB,OAGb,mBAAG3B,UAAU,2BAAb,SAAyCY,EAAY/B,cAGzD,wBACEmB,UAAU,uBACVuB,KAAK,SACLlB,QAASuB,SAIf,yBAAS5B,UAAU,kBAAnB,SACE,oBAAIA,UAAU,aAAd,SACG6B,EAAMG,KAAI,SAACxB,GAAD,OACP,cAAE,EAAF,CAAOA,KACHA,EAKJC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAJVH,EAAKQ,gBCpCViB,MARf,WACI,OACI,wBAAQjC,UAAU,gBAAlB,SACF,mBAAGA,UAAU,oBAAb,uCCSSkC,MAZf,YAAsC,IAAjB1B,EAAgB,EAAhBA,KAAM2B,EAAU,EAAVA,QACvB,OACI,qBAAKnC,UAAWQ,EAAO,qBAAuB,kBAAmB4B,GAAG,aAApE,SACI,sBAAKpC,UAAU,mBAAf,UACI,wBAAQA,UAAU,gCAAgCuB,KAAK,SAASa,GAAG,mBAAmB/B,QAAS8B,IAC/F,qBAAKjC,IAAG,OAAEM,QAAF,IAAEA,OAAF,EAAEA,EAAMtB,KAAMe,IAAG,OAAEO,QAAF,IAAEA,OAAF,EAAEA,EAAM5B,KAAMoB,UAAU,iBACjD,mBAAGA,UAAU,2BAAb,gBAAyCQ,QAAzC,IAAyCA,OAAzC,EAAyCA,EAAM5B,aCWhDyD,MAjBf,YAA8F,IAAtEzD,EAAqE,EAArEA,KAAM0D,EAA+D,EAA/DA,MAAOC,EAAwD,EAAxDA,WAAYC,EAA4C,EAA5CA,SAAUC,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,KAAMP,EAAoB,EAApBA,QAASQ,EAAW,EAAXA,SAC9E,OACI,qBAAK3C,UAAWyC,EAAS,qBAAuB,QAASL,GAAIxD,EAA7D,SACF,qBAAKoB,UAAU,mBAAf,SACI,sBAAKA,UAAS,wCAAmC0C,GAAjD,UACI,wBAAQ1C,UAAU,eAAeuB,KAAK,SAASlB,QAAS8B,IACxD,oBAAInC,UAAU,cAAd,SAA6BsC,IAC7B,uBAAMtC,UAAU,wBAAwBoC,GAAIxD,EAAM+D,SAAUA,EAAUpB,KAAK,SAA3E,UACOiB,EACH,wBAAQjB,KAAK,SAASvB,UAAU,qBAAhC,SAAuDuC,eCwD1DK,MA9Df,YAA6D,IAAjCH,EAAgC,EAAhCA,OAAQN,EAAwB,EAAxBA,QAASU,EAAe,EAAfA,aACnCjC,EAAcjD,IAAMkD,WAAWnD,GACrC,EAAgCC,IAAMkC,SAAS,IAA/C,mBAAOiD,EAAP,KAAiBC,EAAjB,KACA,EAA6CpF,IAAMkC,SAAS,IAA5D,mBAAOmD,EAAP,KAAwBC,EAAxB,KAuBA,OArBAtF,IAAMuF,WAAU,WACZH,EAAYnC,EAAYhC,MACxBqE,EAAkBrC,EAAY/B,SAC/B,CAAC+B,EAAa6B,IAmBb,eAAC,EAAD,CACI7D,KAAK,gBACL0D,MAAM,4HACNC,WAAW,yDACXE,OAAQA,EACRN,QAASA,EACTQ,SAvBR,SAAsBQ,GAClBA,EAAEC,iBACEP,EAAa,CACTjE,KAAMkE,EACNjE,MAAOmE,IAEXD,IACAE,KAUJ,UAOI,uBACI1B,KAAK,OACLvB,UAAU,oCACVpB,KAAK,OACLwD,GAAG,YACHiB,UAAU,IACVC,UAAU,KACVC,YAAY,8FACZC,MAAOV,GAAY,GACnBW,SAxBZ,SAA8BN,GAC1BJ,EAAYI,EAAEO,OAAOF,QAwBbG,UAAQ,IACZ,sBAAM3D,UAAU,QAAQoC,GAAG,oBAC3B,uBACIb,KAAK,OACLvB,UAAU,mCACVpB,KAAK,MACLwD,GAAG,MACHiB,UAAU,IACVC,UAAU,MACVC,YAAY,8FACZC,MAAOR,GAAmB,GAC1BS,SAjCZ,SAAqCN,GACjCF,EAAkBE,EAAEO,OAAOF,QAiCnBG,UAAQ,IACZ,sBAAM3D,UAAU,QAAQoC,GAAG,kBClBxBwB,MAzCf,YAA8D,IAAnCnB,EAAkC,EAAlCA,OAAQN,EAA0B,EAA1BA,QAAS0B,EAAiB,EAAjBA,eAElCC,EAAYnG,IAAMoG,SAaxB,OACI,eAAC,EAAD,CACInF,KAAK,gBACL0D,MAAM,wFACNC,WAAW,yDACXG,KAAK,SACLD,OAAQA,EACRN,QAASA,EACTQ,SAnBR,SAAsBQ,GAClBA,EAAEC,iBAEFS,EAAe,CACbxE,OAAQyE,EAAUE,QAAQR,SAQ5B,UAUI,uBACIjC,KAAK,MACLvB,UAAU,iCACVpB,KAAK,eACLwD,GAAG,eACHmB,YAAY,qGACZU,IAAKH,EACLH,UAAQ,IAGZ,sBAAM3D,UAAU,QAAQoC,GAAG,2BCoBxB8B,MAvDf,YAAwD,IAA/BzB,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,QAASP,EAAa,EAAbA,WACtC,EAAgCjE,IAAMkC,SAAS,IAA/C,mBAAOsE,EAAP,KAAiBC,EAAjB,KACA,EAAgCzG,IAAMkC,SAAS,IAA/C,mBAAOwE,EAAP,KAAiBC,EAAjB,KAgBA,OACI,eAAC,EAAD,CACI1F,KAAK,YACL0D,MAAM,gEACNC,WAAW,6CACXE,OAAQA,EACRN,QAASA,EACTQ,SAtBR,SAAsBQ,GAClBA,EAAEC,iBACFxB,EAAW,CACThD,KAAMuF,EACNjF,KAAMmF,IAERD,EAAY,IACZE,EAAY,KASZ,UAQQ,uBAAO/C,KAAK,OACRvB,UAAU,0CACVpB,KAAK,OACL2E,YAAY,mDACZnB,GAAG,aACHiB,UAAU,IACVC,UAAU,KACVE,MAAOW,EACPV,SAvBd,SAA8BN,GAC5BiB,EAAYjB,EAAEO,OAAOF,QAuBTG,UAAQ,IAER,sBAAM3D,UAAU,QAAQoC,GAAG,qBAE/B,uBACIb,KAAK,MACLvB,UAAU,wCACVpB,KAAK,OACLwD,GAAG,WACHmB,YAAY,qGACZC,MAAOa,EACPZ,SAhCd,SAA8BN,GAC5BmB,EAAYnB,EAAEO,OAAOF,QAgCTG,UAAQ,IAER,sBAAM3D,UAAU,QAAQoC,GAAG,uB,gBCpChCmC,MAhBf,YAA4E,IAAnDjC,EAAkD,EAAlDA,MAAOkC,EAA2C,EAA3CA,WAAYhC,EAA+B,EAA/BA,SAAUG,EAAqB,EAArBA,SAAUc,EAAW,EAAXA,SAC5D,OACI,yBAASzD,UAAU,kBAAnB,SACI,qBAAKA,UAAU,sBAAf,SACI,uBAAMA,UAAU,iBAAiB2C,SAAUA,EAA3C,UACQ,oBAAI3C,UAAU,kBAAd,SAAiCsC,IACjC,uBAAOiB,YAAY,QAAQvD,UAAU,kBAAkBuB,KAAK,QAAQ3C,KAAK,QAAQ+E,UAAQ,EAACF,SAAUA,EAAUgB,aAAa,UAC3H,uBAAOlB,YAAY,uCAAQvD,UAAU,kBAAkBuB,KAAK,WAAW3C,KAAK,WAAW+E,UAAQ,EAACF,SAAUA,EAAUgB,aAAa,qBACjI,wBAAQzE,UAAU,wBAAlB,SAA2CwE,IAC1ChC,UC+BVkC,MArCf,YAAiC,IAAdC,EAAa,EAAbA,WACf,EAAwBhH,IAAMkC,SAAS,CACnCO,MAAO,GACPwE,SAAU,KAFd,mBAAOC,EAAP,KAAaC,EAAb,KAqBA,OACI,cAAC,EAAD,CACAxC,MAAM,qEACNkC,WAAW,+GACX7B,SAXiB,SAACQ,GAClBA,EAAEC,iBACF,IAAOhD,EAAmByE,EAAnBzE,MAAOwE,EAAYC,EAAZD,SACdD,EAAW,CAACvE,QAAOwE,cASnBnB,SArBiB,SAACN,GAClB,MAAsBA,EAAEO,OAAjB9E,EAAP,EAAOA,KAAM4E,EAAb,EAAaA,MAEbsB,EAAQ,2BACDD,GADA,kBAEFjG,EAAO4E,MAYZ,SAMI,sBAAKxD,UAAU,kBAAf,UACI,mBAAGA,UAAU,qBAAb,kIACI,cAAC,IAAD,CAAMA,UAAU,iBAAiBM,GAAG,SAApC,kDCCLyE,MAjCf,YAA2B,IAAXC,EAAU,EAAVA,QACZ,EAAwBrH,IAAMkC,SAAS,CACnCO,MAAO,GACPwE,SAAU,KAFd,mBAAOC,EAAP,KAAaC,EAAb,KAuBA,OACI,cAAC,EAAD,CACIxC,MAAM,2BACNkC,WAAW,iCACX7B,SAda,SAACQ,GAElB,GADAA,EAAEC,iBACEyB,EAAKzE,OAAUyE,EAAKD,SAAxB,CAGA,IAAOxE,EAAmByE,EAAnBzE,MAAOwE,EAAYC,EAAZD,SACdI,EAAQ5E,EAAOwE,KASXnB,SAvBa,SAACN,GAClB,MAAsBA,EAAEO,OAAjB9E,EAAP,EAAOA,KAAM4E,EAAb,EAAaA,MACbsB,EAAQ,2BACDD,GADA,kBAEFjG,EAAO4E,SCALyB,MAdf,YAAwD,IAAlCC,EAAiC,EAAjCA,IAAKC,EAA4B,EAA5BA,SAAU1C,EAAkB,EAAlBA,OAAQN,EAAU,EAAVA,QACzC,OACI,qBAAKnC,UAAWyC,EAAS,qBAAuB,QAAhD,SACI,qBAAKzC,UAAU,mBAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,wBAAQA,UAAU,eAAeuB,KAAK,SAASlB,QAAS8B,IACxD,qBAAKnC,UAAS,UAAKkF,KACnB,mBAAGlF,UAAU,kBAAb,SAAgCmF,Y,wBCMrCC,EAVQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBC,EAAa,iBAE9D,OACE,cAAC,IAAD,UAEI,kBAAyB,IAAnBA,EAAM5F,SAAoB,cAAC0F,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUjF,GAAG,gBC2PjEkF,MA1Of,WACE,MAAwD7H,IAAMkC,UAAS,GAAvE,mBAAO4F,EAAP,KAA8BC,EAA9B,KACA,EAA0D/H,IAAMkC,UAAS,GAAzE,mBAAO8F,EAAP,KAA+BC,EAA/B,KACA,EAAoDjI,IAAMkC,UAAS,GAAnE,mBAAOgG,EAAP,KAA4BC,EAA5B,KACA,EAAwCnI,IAAMkC,SAAS,MAAvD,mBAAOkG,EAAP,KAAqBC,EAArB,KACA,EAAsCrI,IAAMkC,SAAS,IAArD,mBAAOe,EAAP,KAAoBqF,EAApB,KACA,EAA0BtI,IAAMkC,SAAS,IAAzC,mBAAOgC,EAAP,KAAcqE,EAAd,KAEA,EAAgCvI,IAAMkC,UAAS,GAA/C,mBAAOF,EAAP,KAAiBwG,EAAjB,KAEA,EAAgCxI,IAAMkC,SAAS,CAC7CO,MAAO,GACPgC,GAAI,KAFN,mBAAO1C,EAAP,KAAiB0G,EAAjB,KAIMC,EAAUC,cAChB,EAA4C3I,IAAMkC,WAAlD,oBAAO0G,GAAP,MAAuBC,GAAvB,MACA,GAAoD7I,IAAMkC,UAAS,GAAnE,qBAAO4G,GAAP,MAA2BC,GAA3B,MAGA/I,IAAMuF,WAAU,WACdyD,OAGC,IAIHhJ,IAAMuF,WAAU,WACdrF,EAAI+I,cACDlI,MAAK,SAAAT,GACJgI,EAAehI,MAEhB4I,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,IAEHnJ,IAAMuF,WAAU,WACdrF,EAAIoJ,WACDvI,MAAK,SAACmG,GACLqB,EACErB,EAAK7C,KAAI,SAACkF,GAAD,MAAW,CAClBtI,KAAMsI,EAAKtI,KACXM,KAAMgI,EAAKhI,KACX8B,IAAKkG,EAAKlG,IACVD,MAAOmG,EAAKnG,MACZI,MAAO+F,EAAK/F,cAIjB0F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,IAoDH,IAYMK,GAAqB,WACzBT,IAAsB,IAElBU,GAAiB,WACrB1B,GAAuB,GACvBE,GAAwB,GACxBE,GAAqB,GACrBE,EAAgB,MAChBU,IAAsB,IAYlBW,GAAc,WAClBb,IAAkB,GAClBW,MA6BIR,GAAc,WAClB,IhBhKyBW,EgBgKnBC,EAAMC,aAAaC,QAAQ,OAE7BF,IhBlKqBD,EgBmKPC,EhBlKXhJ,MAAM,GAAD,OAAIe,EAAJ,aAAyB,CACnCd,YAAa,UACbM,OAAQ,MACRL,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2B6I,MAG9B5I,KAAKa,IgB0JDb,MAAK,SAAAmG,GACJ,MAAuBA,EAAKA,KAApBzE,EAAR,EAAQA,MAAOY,EAAf,EAAeA,IACfoF,EAAY,CACVhG,QAAOY,QAETmF,GAAY,GAEZE,EAAQqB,KAAK,QAEdb,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAUhC,OACE,cAAC,EAAmBa,SAApB,CAA6BnE,MAAO5C,EAApC,SAEE,gCAEE,cAAC,EAAD,CAAQlB,SAAUA,EAAUC,SAAUA,EAAUC,UAXpC,WAChB4H,aAAaI,WAAW,OACxBzB,GAAY,GACZE,EAAQqB,KAAK,cAUT,eAAC,IAAD,WACE,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC,EAAD,CACEnD,WAzDW,SAAC,GAAuB,IAAtBvE,EAAqB,EAArBA,MAAOwE,EAAc,EAAdA,SAC9BmC,QAAQC,IAAI5G,EAAOwE,GhBpKC,SAAC,GAAuB,IAAtBA,EAAqB,EAArBA,SAAUxE,EAAW,EAAXA,MAEhC,OAAO7B,MAAM,GAAD,OAAIe,EAAJ,WAAuB,CACjCR,OAAQ,OACRL,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBM,KAAMC,KAAKC,UAAU,CAAC2F,WAAUxE,YAGjC1B,KAAKa,GgB0JNwI,CAAc,CAAC3H,QAAOwE,aACnBlG,MAAK,WAEJ8H,IAAkB,GAElBW,QAEDN,MAAMQ,SAkDH,cAAC,IAAD,CAAOQ,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC,EAAD,CAAO9C,QAjDG,SAAC5E,EAAOwE,IhBhKH,SAAC,GAAuB,IAAtBxE,EAAqB,EAArBA,MAAOwE,EAAc,EAAdA,SAChC,OAAOrG,MAAM,GAAD,OAAIe,EAAJ,WAAuB,CACjCd,YAAa,UACbM,OAAQ,OACRL,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBM,KAAMC,KAAKC,UAAU,CAACmB,QAAOwE,eAE9BlG,KAAKa,IgBuJNwI,CAAe3H,GACZ1B,MAAK,SAAAmG,GACJ,IAAQyC,EAAUzC,EAAVyC,MACRE,aAAaQ,QAAQ,MAAOV,GAC5BnB,GAAY,GACZE,EAAQqB,KAAK,QAGdb,MAAMQ,SA0CH,cAAC,EAAD,CAAgBQ,OAAK,EAACC,KAAK,IAAInI,SAAUA,EAAU2F,UAAW7D,EAAMC,aAtG9C,WAC5BgE,GAAuB,IAsGf/D,cApGqB,WAC7BiE,GAAwB,IAoGhBhE,WAlGkB,WAC1BkE,GAAqB,IAkGbrF,YAhGc,SAACD,GACvBwF,EAAgBxF,IAgGRqB,MAAOA,EACPnB,WA5JV,SAAwBF,GAEtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAG3DnD,EAAIoK,eAAezH,EAAKQ,KAAME,GAC3BxC,MAAK,SAACwJ,GACLhC,GAAS,SAACiC,GAAD,OAAWA,EAAMnG,KACxB,SAACoG,GAAD,OAAOA,EAAEpH,MAAQR,EAAKQ,IAAMkH,EAAUE,WAEzCvB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAmJpBnG,aAhJV,SAA0BH,GACxB3C,EACGwK,WAAW7H,EAAKQ,KAChBtC,MAAK,WACJwH,EAASrE,EAAMyG,QAAO,SAAApB,GAAI,OAAIA,EAAKlG,MAAQR,EAAKQ,WAEjD6F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,YA4IxB,cAAC,EAAD,IACA,cAAC,EAAD,CAAiBrE,OAAQgD,EACvBtD,QAASiF,GACTvD,eApIR,YAA0C,IAAXxE,EAAU,EAAVA,OAC7BxB,EACG0K,aAAa,CAAElJ,WACfX,MAAK,SAACT,GACLgI,EAAehI,GACfmJ,QAEDP,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SA8H1B,cAAC,EAAD,CAAkBrE,OAAQkD,EACxBxD,QAASiF,GACTvE,aAhJR,YAA4C,IAAhBjE,EAAe,EAAfA,KAAMC,EAAS,EAATA,MAChChB,EACG2K,YAAY,CAAE5J,OAAMC,UACpBH,MAAK,SAACT,GACLgI,EAAehI,GACfmJ,QAEDP,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SA0I1B,cAAC,EAAD,CAAerE,OAAQoD,EACrB1D,QAASiF,GACTxF,WAjIR,YAA+C,IAAfhD,EAAc,EAAdA,KAAMM,EAAQ,EAARA,KACpCrB,EAAI4K,WAAW,CAAE7J,OAAMM,SACpBR,MAAK,SAACwJ,GACLhC,EAAS,CAACgC,GAAF,mBAAcrG,KAEtBuF,QACCP,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SA4H5B,cAAC,EAAD,CAAYtG,KAAMuF,EAAc5D,QAASiF,KACzC,cAAC,EAAD,CACMlC,IAAKqB,GAAiB,kBAAoB,eAC1CpB,SAAUoB,GAAiB,wKAAmC,sMAC9D9D,OAAQgE,GACRtE,QArGU,WACpBiF,KACIb,IACFF,EAAQqB,KAAK,oBC7IJgB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlK,MAAK,YAAkD,IAA/CmK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACA,cAAC,EAAD,QAGFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.8b25b6bb.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\n\r\nexport default CurrentUserContext;"," class Api {\r\n    constructor({address}) {\r\n        this._address = address;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    \r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}/users/me`, {\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._address}/cards`, {\r\n            credentials: 'include'\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    editProfile({name, about}) {\r\n        return fetch(`${this._address}/users/me`, {\r\n            credentials: 'include',\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                about\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    addNewCard({name, link}) {\r\n        return fetch(`${this._address}/cards`, {\r\n            credentials: 'include',\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                link\r\n            })\r\n\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._address}/cards/${cardId}`, {\r\n            credentials: 'include',\r\n            method: 'DELETE',\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    likeCardStatus(cardId, like) {\r\n        return fetch(`${this._address}/cards/${cardId}/likes`, {\r\n        credentials: 'include',\r\n        method: like ? 'PUT' : 'DELETE',\r\n        headers: {\r\n        'Content-Type': 'application/json'\r\n        }\r\n    })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n\r\n\r\n    updateAvatar({avatar}) {\r\n        return fetch(`${this._address}/users/me/avatar`, {\r\n            credentials: 'include',\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n\r\n    }\r\n\r\n}\r\n\r\n    const api = new Api( {\r\n        address: 'https://milenium666.nomoredomains.rocks',\r\n    });\r\n\r\nexport default api;\r\n","export const BASE_URL = 'milenium666.nomoredomains.rocks';\r\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`)\r\n\r\nexport const register = ({password, email}) => {\r\n  \r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n\r\n    })\r\n    .then(checkResponse)\r\n  };\r\n\r\n  export const authorize = ({email, password}) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      credentials: 'include',\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponse)\r\n  };\r\n\r\n  export const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      credentials: 'include',\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(checkResponse)\r\n    \r\n  };","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n   \r\nfunction Header({userData, loggedIn, onSignOut}) {\r\n\r\n    const [clickLink, setClickLink] = React.useState()\r\nfunction handleLinkClick () {\r\n    if(clickLink) {\r\n        setClickLink(false)\r\n    } else{\r\n    setClickLink(true)\r\n    }\r\n    \r\n\r\n}\r\n\r\nreturn(\r\n        <header className='header'>\r\n            <img  className='logo' alt='Логотип Место' src={logo}/>\r\n            <div className='header__links'>\r\n                <p className={`header__email ${loggedIn ? '' : 'header__email_hidden'}`} >{userData.email}</p>\r\n                <Link className='header__link'\r\n                onClick={handleLinkClick}\r\n                 to={`${loggedIn ? '' :( clickLink ? '/signin' : '/signup' )}`}\r\n                >\r\n                    {loggedIn ? '' :( clickLink ? 'Вход' : 'Регистрация' )}\r\n                </Link>\r\n\r\n                <Link\r\n                className={`header__link header__link_color-grey ${!loggedIn && 'header__email_hidden'}` }\r\n                 to='/'\r\n                onClick={onSignOut}\r\n                >Выйти</Link>\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\nconst handleClick = () => {\r\n    onCardClick(card)\r\n}\r\nconst handleLikeClick = () => {\r\n    onCardLike(card)\r\n}\r\nconst handleDeleteClick = () => {\r\n    onCardDelete(card)\r\n}\r\n\r\n// Определяем, являемся ли мы владельцем текущей карточки\r\nconst isOwn = card.owner._id === currentUser._id;\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\nconst cardDeleteButtonClassName = (\r\n  `photo-grid__detete ${isOwn ? 'photo-grid__detete_visible' : 'photo-grid__detete_hidden'}`\r\n);\r\n\r\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\r\nconst cardLikeButtonClassName = `photo-grid__like ${\r\n    isLiked && \"photo-grid__like_active\"\r\n  }`;\r\n\r\n\r\n    return(\r\n        <li className=\"photo-grid__card\" >\r\n            <img\r\n            src={card.link}\r\n            alt={card.name}\r\n            onClick={handleClick}\r\n            className=\"photo-grid__image\"/>\r\n            <button \r\n            className={cardDeleteButtonClassName} \r\n            onClick={handleDeleteClick}\r\n            type=\"button\"></button>\r\n            <div className=\"photo-grid__discription\">\r\n                <p className=\"photo-grid__place\">{card.name}</p>\r\n                <div className=\"photo-grid__likes\">\r\n                    <button\r\n                    type=\"button\"\r\n                    className={cardLikeButtonClassName}\r\n                    onClick={handleLikeClick}\r\n                    ></button>\r\n                    <p className=\"photo-grid__like-count\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nimport Card from './Card'\r\n\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n\r\n    return (\r\n      <main className=\"content\">\r\n        <section className=\"profile indent\">\r\n          <div className=\"profile__container\">\r\n            <div className=\"profile__data\">\r\n              <div\r\n                className=\"profile__avatar\"\r\n                onClick={onEditAvatar}\r\n                style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n              ></div>\r\n              <div className=\"profile__data profile-info\">\r\n                <div className=\"profile__data info\">\r\n                  <h1 className=\"info__user-name\">{currentUser.name}</h1>\r\n                  <button\r\n                    className=\"info__button-pen\"\r\n                    type=\"button\"\r\n                    onClick={onEditProfile}\r\n                  ></button>\r\n                </div>\r\n                <p className=\"profile-info__occupation\">{currentUser.about}</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"profile__button-plus\"\r\n              type=\"button\"\r\n              onClick={onAddPlace}\r\n            ></button>\r\n          </div>\r\n        </section>\r\n        <section className=\"elements indent\">\r\n          <ul className=\"photo-grid\">\r\n            {cards.map((card) => (\r\n                < Card card = {\r\n                    card\r\n                }\r\n                key = {\r\n                    card._id\r\n                }\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n\r\n                />\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className=\"footer indent\">\r\n      <p className=\"footer__copyright\">&#169; 2021 Mesto Russia</p>\r\n  </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n    return(\r\n        <div className={card ? 'popup popup_opened' : 'popup popup_pic'} id=\"show-image\">\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close popup__close_pic\" type=\"button\" id=\"close-show_image\" onClick={onClose}></button>\r\n                <img src={card?.link} alt={card?.name} className=\"popup__image\"/>\r\n                <p className=\"popup__description-place\">{card?.name}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({name, title, nameButton, children, isOpen, size, onClose, onSubmit}) {\r\n    return(\r\n        <div className={isOpen ? 'popup popup_opened' : 'popup'} id={name}>\r\n      <div className=\"popup__container\">\r\n          <div className={`popup__content popup__content_${size}`}>\r\n              <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n              <h2 className=\"popup__edit\">{title}</h2>\r\n              <form className=\"popup__data-container\" id={name} onSubmit={onSubmit} type=\"submit\" >\r\n                    {children}\r\n                  <button type=\"submit\" className=\"popup__button-save\" >{nameButton}</button>\r\n              </form>\r\n          </div>\r\n      </div>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport React from 'react'\r\n\r\n\r\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [userName, setUserName] = React.useState('');\r\n    const [userDescription, setUserDescrition] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setUserName(currentUser.name);\r\n        setUserDescrition(currentUser.about);\r\n    }, [currentUser, isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n            onUpdateUser({\r\n                name: userName,\r\n                about: userDescription\r\n            })\r\n            setUserName()\r\n            setUserDescrition()\r\n}\r\n    function handleChangeUserName(e) {\r\n        setUserName(e.target.value);\r\n    }\r\n    function handleChangeUserDescription(e) {\r\n        setUserDescrition(e.target.value)\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name='profile-popup'\r\n            title='Редактировать профиль'\r\n            nameButton='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"text\"\r\n                className=\"popup__data popup__data_type_name\"\r\n                name=\"name\"\r\n                id=\"user-name\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                placeholder=\"Имя Пользователя\"\r\n                value={userName || ''}\r\n                onChange={handleChangeUserName}\r\n                required/>\r\n            <span className=\"error\" id=\"user-name-error\"></span>\r\n            <input\r\n                type=\"text\"\r\n                className=\"popup__data popup__data_type_job\"\r\n                name=\"job\"\r\n                id=\"job\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                placeholder=\"Род Деятельности\"\r\n                value={userDescription || ''}\r\n                onChange={handleChangeUserDescription}\r\n                required/>\r\n            <span className=\"error\" id=\"job-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const avatarRef = React.useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        })\r\n      }\r\n      \r\n\r\n\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name='edit-img-user'\r\n            title='Обновить Аватар'\r\n            nameButton='Сохранить'\r\n            size='size_m'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            >\r\n\r\n            <input\r\n                type=\"url\"\r\n                className=\"popup__data popup__data_margin\"\r\n                name=\"url_img_user\"\r\n                id=\"edit-img-src\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                ref={avatarRef}\r\n                required\r\n                \r\n                />\r\n            <span className=\"error\" id=\"edit-img-src-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\n\r\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace}) {\r\n    const [cardName, setCardName] = React.useState(\"\");\r\n    const [cardLink, setCardLink] = React.useState(\"\");\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n          name: cardName,\r\n          link: cardLink,\r\n        });\r\n        setCardName(\"\");\r\n        setCardLink(\"\")\r\n      }\r\n      function handleChangeCardName(e) {\r\n        setCardName(e.target.value);\r\n      }\r\n      function handleChangeCardLink(e) {\r\n        setCardLink(e.target.value);\r\n      }\r\n    return(\r\n        <PopupWithForm\r\n            name='add-place'\r\n            title='Новое место'\r\n            nameButton='Создать'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n                <input type=\"text\"\r\n                    className=\"popup__data popup__data_type_name-place\"\r\n                    name=\"name\"\r\n                    placeholder=\"Название\"\r\n                    id=\"place-name\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"\r\n                    value={cardName}\r\n                    onChange={handleChangeCardName}\r\n                    required\r\n                />\r\n                    <span className=\"error\" id=\"place-name-error\"></span>\r\n\r\n                <input\r\n                    type=\"url\"\r\n                    className=\"popup__data popup__data_type_pic-link\"\r\n                    name=\"link\"\r\n                    id=\"pic-link\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    value={cardLink}\r\n                    onChange={handleChangeCardLink}\r\n                    required\r\n                />\r\n                    <span className=\"error\" id=\"pic-link-error\"></span>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\n\r\nfunction Authorization ({title, buttonText, children, onSubmit, onChange}) {\r\n    return (\r\n        <section className='register indent'>\r\n            <div className='register__container'>\r\n                <form className='register__form' onSubmit={onSubmit}>\r\n                        <h1 className='register__title'>{title}</h1>\r\n                        <input placeholder='Email' className='register__input' type='email' name='email' required onChange={onChange} autoComplete=\"email\"/>\r\n                        <input placeholder='Пароль'className='register__input' type='password' name='password' required onChange={onChange} autoComplete=\"current-password\"/>\r\n                        <button className='register__button-save'>{buttonText}</button>\r\n                        {children}\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Authorization;","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Authorization from './Authorization'\r\n\r\n\r\nfunction Register({onRegister}) {\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        \r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const {email, password} = data;\r\n        onRegister({email, password})\r\n\r\n        \r\n    }\r\n    return(\r\n        <Authorization\r\n        title='Регистрация'\r\n        buttonText='Зарегистрироваться'\r\n        onSubmit={handleSubmit}\r\n        onChange={handleChange}\r\n        >\r\n            <div className='register__login'>\r\n                <p className='register__subtitle'>Уже зарегистрированы?</p>\r\n                    <Link className='register__link' to=\"signin\">Войти</Link>\r\n            </div>\r\n        </Authorization>\r\n    )\r\n}\r\n\r\nexport default Register;","\r\nimport Authorization from './Authorization';\r\nimport React from 'react';\r\n\r\nfunction Login({onLogin}) {\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!data.email || !data.password) {\r\n            return\r\n        }\r\n        const {email, password} = data\r\n        onLogin(email, password)\r\n        \r\n    }\r\n    \r\n    return(\r\n        <Authorization\r\n            title='Вход'\r\n            buttonText='Войти'\r\n            onSubmit={handleSubmit}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\nexport default Login;","function InfoTooltip({img, subTitle, isOpen, onClose}) {\r\n    return(\r\n        <div className={isOpen ? 'popup popup_opened' : 'popup'}>\r\n            <div className=\"popup__container\">\r\n                <div className='popup__content'>\r\n                    <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n                    <div className={`${img}`}></div>\r\n                    <p className='popup__subtitle'>{subTitle}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  \r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api'\r\nimport * as auth from '../utils/auth'\r\nimport Header from './Header'\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport InfoTooltip from './InfoTooltip'\r\n\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [currentUser, setCurrentUser] = React.useState({})\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  // Пользовательские данные которые передаются в Header при входе на строаницу с карточками\r\n  const [userData, setUserData] = React.useState({\r\n    email: '',\r\n    id: ''\r\n  });\r\n  const history = useHistory()\r\n  const [popupIsCorrect, setPopupIsCorrect] = React.useState();\r\n  const [isCorrectPopupOpen, setIsCorrectPopupOpen] = React.useState(false);\r\n\r\n\r\n  React.useEffect(()=>{\r\n    getUserInfo();\r\n\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n    api.getUserData()\r\n      .then(res => {\r\n        setCurrentUser(res)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    api.getCards()\r\n      .then((data) => {\r\n        setCards(\r\n          data.map((item) => ({\r\n            name: item.name,\r\n            link: item.link,\r\n            _id: item._id,\r\n            owner: item.owner,\r\n            likes: item.likes,\r\n          }))\r\n        )\r\n      })\r\n      .catch(err => console.log(err))\r\n  }, [])\r\n\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.likeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map(\r\n          (c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter(item => item._id !== card._id));\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .editProfile({ name, about })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function handleUpdateAavatar({ avatar }) {\r\n    api\r\n      .updateAvatar({ avatar })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api.addNewCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n\r\n        closeAllPopups();\r\n      }).catch((err) => console.log(err));\r\n  }\r\n\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n  const handleCorrectPopup = () => {\r\n    setIsCorrectPopupOpen(true)\r\n  }\r\n  const closeAllPopups = () => {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsCorrectPopupOpen(false)\r\n\r\n  }\r\n\r\n  const closeRegPopup = () => {\r\n    closeAllPopups();\r\n    if (popupIsCorrect) {\r\n      history.push('/signin');\r\n    }\r\n  }\r\n\r\n\r\n  const handleError = () => {\r\n    setPopupIsCorrect(false)\r\n    handleCorrectPopup()\r\n  }\r\n\r\n\r\n\r\n\r\n  const handleRegister = ({email, password}) => {\r\n    console.log(email, password);\r\n    auth.register({email, password})\r\n      .then(() => {\r\n        //меняет содержимое попапа\r\n        setPopupIsCorrect(true)\r\n        //открывает попап с успешной регистрацией\r\n        handleCorrectPopup()\r\n      })\r\n      .catch(handleError)\r\n  }\r\n  const handleLogin = (email, password) => {\r\n    auth.authorize(email, password)\r\n      .then(data => {\r\n        const { token } = data\r\n        localStorage.setItem('jwt', token)\r\n        setLoggedIn(true)\r\n        history.push('/')\r\n\r\n      })\r\n      .catch(handleError)\r\n  }\r\n\r\n  const getUserInfo = () => {\r\n    const jwt = localStorage.getItem('jwt')\r\n\r\n    if (jwt) {\r\n      auth.checkToken(jwt)\r\n        .then(data => {\r\n          const { email, _id } = data.data\r\n          setUserData({\r\n            email, _id\r\n          })\r\n          setLoggedIn(true)\r\n         \r\n          history.push('/')\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n  }\r\n\r\n  const onSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    history.push('/signin');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div>\r\n\r\n        <Header userData={userData} loggedIn={loggedIn} onSignOut={onSignOut}/>\r\n\r\n        <Switch>\r\n          <Route exact path='/signup'>\r\n            <Register\r\n              onRegister={handleRegister}/>\r\n            </Route>\r\n          <Route exact path='/signin' >\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete} />\r\n        </Switch>\r\n        <Footer />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAavatar} />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n        <InfoTooltip\r\n              img={popupIsCorrect ? 'popup__approved' : 'popup__false'}\r\n              subTitle={popupIsCorrect ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n              isOpen={isCorrectPopupOpen}\r\n              onClose={closeRegPopup}\r\n            />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}